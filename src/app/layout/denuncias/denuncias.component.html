<div [@routerTransition]>
  <app-page-header [icon]="'fa-shield'" [menu]="'Denuncias'">
  </app-page-header>
  <div class="row">
    <div class="col col-xl-12 col-lg-12">
      <div class="card mb-3" *ngIf="table">
        <div class="card-header">
          Denuncias
          <div class="card-body table-responsive">
            <table class="table table-hover table-striped table-sm">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Folio</th>
                  <th>Asunto</th>
                  <th>Descripción asunto</th>
                  <th>Características</th>
                  <th colspan="3" title="Modificar/Eliminar">Acciones</th>
                </tr>
              </thead>
              <tbody  style="text-transform: uppercase">
                <tr *ngFor="let d of denuncias; let i=index;">
                  <td>{{i+1}}</td>
                  <td>{{d.folio}}</td>
                  <td>{{d.asunto}}</td>
                  <td>{{(d.describa_su_asunto.length>15) ? 
                        (d.describa_su_asunto | slice:0:20) 
                        + '...':(d.describa_su_asunto) }}
                  </td>
                  <td>{{(d.caracteristicas_de_las_mascotas.length>15) ? 
                      (d.caracteristicas_de_las_mascotas | slice:0:20) 
                      + '...':(d.caracteristicas_de_las_mascotas) }}
                  </td>
                  <td>
                    <i class="fa fa-eye" aria-hidden="true" (click)="viewInfo(d)" title="Imprimir"></i>
                  </td>
                  <td>
                    <i class="fa fa-trash" aria-hidden="true" (click)="deleteMascota(d)" title="Eliminar"></i>
                  </td>
                </tr>
              </tbody>
            </table>
            <app-page-loading [title]="'Cargando datos'" *ngIf="loadingDB"></app-page-loading>
          </div>
        </div>
      </div>

      <div class="card mb-3" *ngIf="info">
        <div class="card-header">
          <strong>Denuncia:&nbsp;</strong>{{denuncia.folio}}
          <div class="card-close">
            <button class="boton" (click)="viewTable()">
              <i class="fa fa-table"> Ver denuncias</i>
            </button>
            <button class="boton" (click)="exportPDF()">
              <i class="fa fa-print" aria-hidden="true">Imprimir</i>
            </button>
          </div>
          <hr>
          <div class="card-body" id="contentToConvert">
            <table class="table table-sm t table-bordered">
              <tbody>
                <tr>
                  <td>
                    <strong>Fecha:</strong>&nbsp;
                    {{denuncia.fecha}}
                  </td>
                </tr>
                <tr>
                  <td>
                    <strong>Nombre de quien reporta:</strong>&nbsp;
                    {{denuncia.nombre_de_quien_reporta}}
                  </td>
                </tr>
                <tr>
                  <td>
                    <strong>Número de teléfono:&nbsp;&nbsp;</strong>
                    {{denuncia.numero_de_telefono}}
                  </td>
                </tr>
                <tr>
                  <td>
                    <strong>Dirección:&nbsp;&nbsp;</strong>
                    {{denuncia.direccion}}
                  </td>
                </tr>
                <tr>
                  <td>
                    <strong>Reperencia del lugar:&nbsp;&nbsp;</strong>
                    {{denuncia.referencia_del_lugar}}
                  </td>
                </tr>
                <tr>
                  <td>
                    <strong>Entre calles:&nbsp;&nbsp;</strong>
                    {{denuncia.entre_calles}}
                  </td>
                </tr>
                <tr>
                  <td>
                    <strong>Asunto:&nbsp;&nbsp;</strong>
                    {{denuncia.asunto}}
                  </td>
                </tr>
                <tr>
                  <td>
                    <strong>Descripción:&nbsp;&nbsp;</strong>
                    {{denuncia.describa_su_asunto}}
                  </td>
                </tr>
                <tr>
                  <td>
                    <strong>Características de la o las mascotas:&nbsp;&nbsp;</strong>
                    {{denuncia.caracteristicas_de_las_mascotas}}
                  </td>
                </tr>
                <tr>
                  <th scope="row" colspan="2" class="text-center">
                    *** En caso de conocer al dueño o persona reportada ***
                  </th>
                </tr>
                <tr>
                  <td>
                    <strong>Nombre del dueño:&nbsp;&nbsp;</strong>
                    {{denuncia.nombre_duenio}}
                  </td>
                </tr>
                <tr>
                  <td>
                    <strong>Dirección:&nbsp;&nbsp;</strong>
                    {{denuncia.direccion_2}}
                  </td>
                </tr>
                <tr>
                  <td>
                    <strong>Entre calles:&nbsp;&nbsp;</strong>
                    {{denuncia.entre_calles2}}
                  </td>
                </tr>
                <tr>
                  <td>
                    <strong>Referencia del lugar:&nbsp;&nbsp;</strong>
                    {{denuncia.referencias_2}}
                  </td>
                </tr>
                <tr>
                  <td>
                    <strong>Características de la o las mascotas:&nbsp;&nbsp;</strong>
                    {{denuncia.caracteristicas_mascotas2}}
                  </td>
                </tr>
              </tbody>
            </table>
            <app-page-loading [title]="'Cargando datos'" *ngIf="loadingDB"></app-page-loading>
          </div>
        </div>
      </div>
    </div>



  </div>